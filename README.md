# wb_lo
##### Проект представляет сохранение и выдачу информации о заказах через веб-запросы с использованием postgres, nats-streaming и redis.

## Как установить?

1. **Установка и запуск**
```bash
docker compose up --build
```

2. **Восстановление базы данных (нужен установленный [go](https://go.dev/dl/))**
```bash
bash dump.sh -r base.sql
```

3. **Проверка работы**
```bash
curl http://localhost:3000/get-all-orders
```

## Возможности

???

## Иерархия

- **backup**
    - **db** (Бекапы базы данных)
- **cmd**
  - **apiserver** (Entry point)
  - **other** (Dump утилита)
- **docker**
  - ... (Dockerfiles)
- **internal**
  - **apiserver** (Конфигурирование проекта)
  - **cache** (Кеш)
  - **messaging** (Брокер сообщений)
  - **model** (Описание моделей)
  - **storage** (Базы данных)

## Dump

#### Создание дампа и восстановление базы данных, с помощью команды bash dump.sh -key.<br> Ключи: 
- `-c` // создать дамп
- `-r filename.sql` // восстановить бд из файла
- `-d` // удалить данные в таблицах

#### Пример запросов:
- `bash dump.sh -c`
- `bash dump.sh -r dump_date_2023-05-28_23-17-28.sql`
- `bash dump.sh -d`

### Что люди говорят об этом проекте:
> 1 2 3 жопа. Евгений Алехин<br>

> Дорого я заплатил, дорого. Константин Сперанский<br>